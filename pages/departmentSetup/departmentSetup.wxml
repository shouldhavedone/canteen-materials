<!--pages/departmentSetup/departmentSetup.wxml-->
<view class="container">
  <view class="header-wrap">
    <van-field value="{{ value }}" clearable placeholder="请输入部门名称" border="{{ false }}" bind:change="onChange" />
    <view class="add-depart">
      <van-icon name="search" />搜索</view>
    <view class="add-depart" bindtap="showPopup">
      <van-icon name="plus" />添加部门</view>
  </view>
  <view class="content-wrap">
    <view class="depart-item">
      <view class="item-wrap">
        <view class="item-left">
          <view>部门：财务部</view>
          <view>排序：1</view>
        </view>
        <view class="item-right">
          <van-switch checked="{{ checked }}" size="48rpx" />
        </view>
      </view>
      <view class="item-btn">
        <view>编辑</view>
        <view class="del-btn">删除</view>
      </view>
    </view>
    <view class="depart-item">
      <view class="item-wrap">
        <view class="item-left">
          <view>部门：财务部</view>
          <view>排序：1</view>
        </view>
        <view class="item-right">
          <van-switch checked="{{ checked }}" size="48rpx" />
        </view>
      </view>
      <view class="item-btn">
        <view>编辑</view>
        <view class="del-btn">删除</view>
      </view>
    </view>
  </view>
</view>
<van-popup show="{{ show }}" closeable bind:close="onClose">
  <view class="add-form">
    <view class="form-input fl-s">
      <view>状态：</view>
      <van-switch checked="{{ checked }}" size="48rpx" />
    </view>
    <view class="form-input fl-s">
      <view>名称：</view>
      <van-field class="input-field" clearable value="{{ departName }}" placeholder="请输入部门名称" border="{{ false }}" />
    </view>
    <view class="form-input fl-s">
      <view>排序：</view>
      <van-field class="input-field" clearable value="{{ departSort }}" placeholder="请输入数字" border="{{ false }}" />
    </view>
    <view class="item-btn"><view class="del-btn">保存</view></view>
  </view>
</van-popup>
<loading wx:if="{{$state.isShowLoading}}" iconType="{{$state.loadingIcon}}" content='{{$state.loadingText}}'></loading>